import { useState } from 'react';
import { connect, useDispatch, useSelector } from 'react-redux';
import { initialFlexStyle, initialLinkStyle } from '../../constants';
import { RegisterInterface } from '../../interfaces/register-interface';
import { StoreInterface } from '../../interfaces/store-interface';
import { SORT_BY_NUM } from '../../redux/reducers/data/actions';
import classes from './registers.module.css';

function Registers() {
  const [curPage, setCurPage] = useState(1);
  const values = [1, 2, 3, 4, 5, '...', 112, 113];
  const arr: Array<RegisterInterface> = useSelector((state: StoreInterface) => {
    return state.data.registers;
  });
  const dispatch = useDispatch();
  return (
    <div className={classes.registers_container}>
      <div className={classes.registers_content}>
        <div className={classes.registers_header}>
          <div className={classes.header_group}>
            <h2 className={classes.registers_header_text}>Реестры</h2>
          </div>
          <div className={classes.svg_group}>
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M2.65295 8.63997C2.63962 7.39997 3.10632 6.2266 3.97298 5.3466C4.82632 4.47993 5.95963 4.01327 7.15963 4.01327H24.973C26.1063 4.01327 27.1596 4.43999 27.9596 5.23999C28.8263 6.10666 29.3196 7.35999 29.3063 8.65332C29.3063 9.97332 28.7196 11.2266 27.733 12.0933L20.8663 18.2C20.5996 18.44 20.3063 19.1333 20.3063 19.7466V24.04C20.3063 24.9334 19.8263 25.7732 19.053 26.2399L18.853 26.3467L15.3596 27.7199C14.9863 27.9199 14.573 28.0267 14.1596 28.0267C13.733 28.0267 13.3063 27.92 12.9063 27.6934C12.093 27.24 11.5997 26.3733 11.5997 25.4399V19.4933C11.5997 19.1867 11.2929 18.5733 10.8129 18.1466L4.13298 11.9733C3.19964 11.1333 2.65298 9.91997 2.63965 8.63997H2.65295ZM17.6796 23.9333L17.6396 19.7332C17.6396 18.5999 18.0929 17.0667 19.1063 16.1867L25.973 10.08C26.3996 9.70666 26.6396 9.18663 26.6396 8.62663C26.6396 8.03996 26.4263 7.47994 26.0663 7.10661C25.853 6.89328 25.5063 6.65332 24.973 6.65332H7.17297C6.67964 6.66665 6.21296 6.86663 5.86629 7.2133C5.50629 7.58663 5.30629 8.06659 5.31962 8.58659V8.62663C5.31962 9.14663 5.55962 9.65333 5.94629 10L12.6263 16.1733C13.3863 16.8667 14.293 18.1467 14.293 19.4933V25.4399"
                fill="#676A71"
              />
            </svg>
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15.9996 13.8667C14.8262 13.8667 13.8662 14.8267 13.8662 16C13.8662 17.1733 14.8262 18.1333 15.9996 18.1333C17.1729 18.1333 18.1329 17.1733 18.1329 16C18.1329 14.8267 17.1729 13.8667 15.9996 13.8667Z"
                fill="#676A71"
              />
              <path
                d="M15.9996 22.4C14.8262 22.4 13.8662 23.36 13.8662 24.5333C13.8662 25.7067 14.8262 26.6667 15.9996 26.6667C17.1729 26.6667 18.1329 25.7067 18.1329 24.5333C18.1329 23.36 17.1729 22.4 15.9996 22.4Z"
                fill="#676A71"
              />
              <path
                d="M15.9996 9.59998C17.1729 9.59998 18.1329 8.63997 18.1329 7.46663C18.1329 6.2933 17.1729 5.33333 15.9996 5.33333C14.8262 5.33333 13.8662 6.2933 13.8662 7.46663C13.8662 8.63997 14.8262 9.59998 15.9996 9.59998Z"
                fill="#676A71"
              />
            </svg>
          </div>
        </div>
        <div className={classes.registers_info}>
          <table className={classes.table}>
            <thead>
              <tr>
                <td className={classes.registers_info_header_item}>
                  <div style={initialFlexStyle}>
                    <svg
                      style={{ marginRight: '15px' }}
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                      onClick={() => {
                        dispatch({
                          type: SORT_BY_NUM,
                        });
                      }}
                    >
                      <path
                        d="M11.04 2.37999C10.88 2.53999 7.72999 5.98997 6.76999 7.04997C6.39999 7.45997 6.43 8.08998 6.84 8.45998C7.25 8.82998 7.87998 8.79997 8.24998 8.38997C9.08998 7.46997 10.15 6.30999 11 5.37999L11 18.56C9.81999 17.32 8.40999 15.85 8.40999 15.85C8.02999 15.45 7.39998 15.44 6.99998 15.82C6.59998 16.2 6.58999 16.83 6.96999 17.23C8.20999 18.53 11.11 21.56 11.18 21.63C11.39 21.84 11.66 21.96 11.95 21.99C12.32 22.02 12.68 21.89 12.95 21.61C13.1 21.46 16.13 18.14 17.05 17.12C17.22 16.93 17.31 16.69 17.31 16.45C17.31 16.18 17.2 15.91 16.98 15.71C16.57 15.34 15.94 15.37 15.57 15.78C14.79 16.64 13.8 17.72 13 18.6L13 5.42998C14.24 6.72998 15.76 8.31999 15.76 8.31999C16.14 8.71999 16.77 8.72999 17.17 8.34999C17.38 8.14999 17.48 7.88999 17.48 7.62999C17.48 7.37999 17.39 7.12999 17.2 6.93999C15.91 5.58999 12.89 2.42997 12.82 2.35997C12.38 1.92997 11.6 1.81997 11.04 2.38997L11.04 2.37999Z"
                        fill="#4D4D4F"
                      />
                    </svg>
                    <div className={classes.info_header_text}>Регистрационный номер</div>
                  </div>
                </td>
                <td className={classes.registers_info_header_item}>
                  <div style={initialFlexStyle}>
                    <svg
                      style={{ marginRight: '15px' }}
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M11.04 2.37999C10.88 2.53999 7.72999 5.98997 6.76999 7.04997C6.39999 7.45997 6.43 8.08998 6.84 8.45998C7.25 8.82998 7.87998 8.79997 8.24998 8.38997C9.08998 7.46997 10.15 6.30999 11 5.37999L11 18.56C9.81999 17.32 8.40999 15.85 8.40999 15.85C8.02999 15.45 7.39998 15.44 6.99998 15.82C6.59998 16.2 6.58999 16.83 6.96999 17.23C8.20999 18.53 11.11 21.56 11.18 21.63C11.39 21.84 11.66 21.96 11.95 21.99C12.32 22.02 12.68 21.89 12.95 21.61C13.1 21.46 16.13 18.14 17.05 17.12C17.22 16.93 17.31 16.69 17.31 16.45C17.31 16.18 17.2 15.91 16.98 15.71C16.57 15.34 15.94 15.37 15.57 15.78C14.79 16.64 13.8 17.72 13 18.6L13 5.42998C14.24 6.72998 15.76 8.31999 15.76 8.31999C16.14 8.71999 16.77 8.72999 17.17 8.34999C17.38 8.14999 17.48 7.88999 17.48 7.62999C17.48 7.37999 17.39 7.12999 17.2 6.93999C15.91 5.58999 12.89 2.42997 12.82 2.35997C12.38 1.92997 11.6 1.81997 11.04 2.38997L11.04 2.37999Z"
                        fill="#4D4D4F"
                      />
                    </svg>
                    <div className={`${classes.info_header_text} ${classes.categories_name}`}>
                      Наименование программного обеспечения
                    </div>
                  </div>
                </td>
                <td className={classes.registers_info_header_item}>Код класса</td>
                <td className={`${classes.registers_info_header_item} ${classes.registers_class}`}>
                  Класс программного <br></br> обеспечения
                </td>
                <td className={classes.registers_info_header_item}>Дата регистрации</td>
                <td className={classes.registers_info_header_item}>Адрес сайта</td>
              </tr>
            </thead>
            <tbody>
              {arr.map((item) => {
                return (
                  <tr key={item.id}>
                    <td className={classes.registers_info_item}>
                      <p className={classes.number}>#{item.id}</p>
                    </td>
                    <td className={classes.registers_info_item}>
                      <p className={classes.info_name}>{item.name}</p>
                    </td>
                    <td className={classes.registers_info_item}>
                      <p>{item.code}</p>
                    </td>
                    <td className={classes.registers_info_item}>
                      <p className={classes.info_class}>{item.class}</p>
                    </td>
                    <td className={classes.registers_info_item}>
                      <p>{item.date}</p>
                    </td>
                    <td className={classes.registers_info_item}>
                      <a href="/" style={initialLinkStyle}>
                        {item.link}
                      </a>
                    </td>
                  </tr>
                );
              })}
            </tbody>
          </table>
        </div>
        <div className={classes.pagination_container}>
          <div
            className={classes.left_arrow_group}
            onClick={() => {
              setCurPage(1);
            }}
          >
            {
              <>
                <svg
                  width="8"
                  height="14"
                  viewBox="0 0 8 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.80899 0.361635L0.378828 6.07213C0.25879 6.19588 0.163514 6.3431 0.0984946 6.50531C0.0334752 6.66752 -3.12908e-07 6.8415 -3.05227e-07 7.01722C-2.97546e-07 7.19295 0.0334752 7.36693 0.0984946 7.52914C0.163514 7.69135 0.25879 7.83857 0.378828 7.96232L5.80899 13.6063C5.92805 13.731 6.06969 13.83 6.22576 13.8976C6.38182 13.9652 6.54922 14 6.71829 14C6.88735 14 7.05475 13.9652 7.21081 13.8976C7.36688 13.83 7.50852 13.731 7.62758 13.6063C7.86611 13.3569 8 13.0195 8 12.6678C8 12.3162 7.86611 11.9788 7.62758 11.7294L3.09391 7.01722L7.62758 2.30507C7.86418 2.05713 7.99757 1.72249 7.99898 1.37328C7.99996 1.1981 7.96765 1.02444 7.90392 0.862259C7.84019 0.700079 7.74628 0.552569 7.62758 0.42819C7.51281 0.298972 7.37454 0.194673 7.22076 0.121319C7.06698 0.0479657 6.90073 0.00701207 6.73164 0.00082368C6.56254 -0.00536566 6.39394 0.0233352 6.23558 0.0852649C6.07721 0.147195 5.93222 0.241127 5.80899 0.361635Z"
                    fill={curPage !== 1 ? '#4D4D4F' : '#C6C6C6'}
                  />
                </svg>
                <svg
                  width="8"
                  height="14"
                  viewBox="0 0 8 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.80899 0.361635L0.378828 6.07213C0.25879 6.19588 0.163514 6.3431 0.0984946 6.50531C0.0334752 6.66752 -3.12908e-07 6.8415 -3.05227e-07 7.01722C-2.97546e-07 7.19295 0.0334752 7.36693 0.0984946 7.52914C0.163514 7.69135 0.25879 7.83857 0.378828 7.96232L5.80899 13.6063C5.92805 13.731 6.06969 13.83 6.22576 13.8976C6.38182 13.9652 6.54922 14 6.71829 14C6.88735 14 7.05475 13.9652 7.21081 13.8976C7.36688 13.83 7.50852 13.731 7.62758 13.6063C7.86611 13.3569 8 13.0195 8 12.6678C8 12.3162 7.86611 11.9788 7.62758 11.7294L3.09391 7.01722L7.62758 2.30507C7.86418 2.05713 7.99757 1.72249 7.99898 1.37328C7.99996 1.1981 7.96765 1.02444 7.90392 0.862259C7.84019 0.700079 7.74628 0.552569 7.62758 0.42819C7.51281 0.298972 7.37454 0.194673 7.22076 0.121319C7.06698 0.0479657 6.90073 0.00701207 6.73164 0.00082368C6.56254 -0.00536566 6.39394 0.0233352 6.23558 0.0852649C6.07721 0.147195 5.93222 0.241127 5.80899 0.361635Z"
                    fill={curPage !== 1 ? '#4D4D4F' : '#C6C6C6'}
                  />
                </svg>
              </>
            }
          </div>
          <div
            className={classes.left_arrow}
            onClick={() => {
              let page = curPage;
              setCurPage(curPage > 1 ? --page : 1);
            }}
          >
            <svg
              width="8"
              height="14"
              viewBox="0 0 8 14"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M5.80899 0.361635L0.378828 6.07213C0.25879 6.19588 0.163514 6.3431 0.0984946 6.50531C0.0334752 6.66752 -3.12908e-07 6.8415 -3.05227e-07 7.01722C-2.97546e-07 7.19295 0.0334752 7.36693 0.0984946 7.52914C0.163514 7.69135 0.25879 7.83857 0.378828 7.96232L5.80899 13.6063C5.92805 13.731 6.06969 13.83 6.22576 13.8976C6.38182 13.9652 6.54922 14 6.71829 14C6.88735 14 7.05475 13.9652 7.21081 13.8976C7.36688 13.83 7.50852 13.731 7.62758 13.6063C7.86611 13.3569 8 13.0195 8 12.6678C8 12.3162 7.86611 11.9788 7.62758 11.7294L3.09391 7.01722L7.62758 2.30507C7.86418 2.05713 7.99757 1.72249 7.99898 1.37328C7.99996 1.1981 7.96765 1.02444 7.90392 0.862259C7.84019 0.700079 7.74628 0.552569 7.62758 0.42819C7.51281 0.298972 7.37454 0.194673 7.22076 0.121319C7.06698 0.0479657 6.90073 0.00701207 6.73164 0.00082368C6.56254 -0.00536566 6.39394 0.0233352 6.23558 0.0852649C6.07721 0.147195 5.93222 0.241127 5.80899 0.361635Z"
                fill={curPage !== 1 ? '#4D4D4F' : '#C6C6C6'}
              />
            </svg>
          </div>
          <ul className={classes.pagination_counter}>
            {values.map((el) => {
              return (
                <li
                  key={el}
                  className={classes.page}
                  style={{
                    background:
                      el === curPage || (curPage > 5 && curPage < 112 && el === '...')
                        ? '#009CB4'
                        : '#FFFFFF',
                    color: el === curPage ? '#FFFFFF' : '#000000',
                  }}
                  onClick={() => {
                    if (typeof el === 'string') {
                      setCurPage(Math.floor(Math.random() * (111 - 6) + 6));
                    } else {
                      setCurPage(el);
                    }
                  }}
                >
                  {el}
                </li>
              );
            })}
          </ul>
          <div
            className={classes.right_arrow}
            onClick={() => {
              let page = curPage;
              setCurPage(curPage < 113 ? ++page : 113);
            }}
          >
            <svg
              width="8"
              height="14"
              viewBox="0 0 8 14"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M2.19101 0.361635L7.62117 6.07213C7.74121 6.19588 7.83649 6.3431 7.90151 6.50531C7.96652 6.66752 8 6.8415 8 7.01722C8 7.19295 7.96652 7.36693 7.90151 7.52914C7.83649 7.69135 7.74121 7.83857 7.62117 7.96232L2.19101 13.6063C2.07195 13.731 1.93031 13.83 1.77424 13.8976C1.61818 13.9652 1.45078 14 1.28171 14C1.11265 14 0.945251 13.9652 0.789186 13.8976C0.633121 13.83 0.491475 13.731 0.372417 13.6063C0.133886 13.3569 4.28598e-08 13.0195 5.82315e-08 12.6678C7.36031e-08 12.3162 0.133886 11.9788 0.372418 11.7294L4.90609 7.01722L0.372418 2.30507C0.135816 2.05713 0.00243002 1.72249 0.00101526 1.37328C4.06139e-05 1.1981 0.0323459 1.02444 0.0960794 0.862259C0.159813 0.700079 0.253721 0.552569 0.372418 0.42819C0.487191 0.298972 0.625463 0.194673 0.779244 0.121319C0.933025 0.0479657 1.09927 0.00701207 1.26836 0.00082368C1.43746 -0.00536566 1.60606 0.0233352 1.76442 0.0852649C1.92279 0.147195 2.06778 0.241127 2.19101 0.361635Z"
                fill={curPage !== 113 ? '#4D4D4F' : '#C6C6C6'}
              />
            </svg>
          </div>
          <div
            className={classes.right_arrow_group}
            onClick={() => {
              setCurPage(113);
            }}
          >
            <svg
              width="8"
              height="14"
              viewBox="0 0 8 14"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M2.19101 0.361635L7.62117 6.07213C7.74121 6.19588 7.83649 6.3431 7.90151 6.50531C7.96652 6.66752 8 6.8415 8 7.01722C8 7.19295 7.96652 7.36693 7.90151 7.52914C7.83649 7.69135 7.74121 7.83857 7.62117 7.96232L2.19101 13.6063C2.07195 13.731 1.93031 13.83 1.77424 13.8976C1.61818 13.9652 1.45078 14 1.28171 14C1.11265 14 0.945251 13.9652 0.789186 13.8976C0.633121 13.83 0.491475 13.731 0.372417 13.6063C0.133886 13.3569 4.28598e-08 13.0195 5.82315e-08 12.6678C7.36031e-08 12.3162 0.133886 11.9788 0.372418 11.7294L4.90609 7.01722L0.372418 2.30507C0.135816 2.05713 0.00243002 1.72249 0.00101526 1.37328C4.06139e-05 1.1981 0.0323459 1.02444 0.0960794 0.862259C0.159813 0.700079 0.253721 0.552569 0.372418 0.42819C0.487191 0.298972 0.625463 0.194673 0.779244 0.121319C0.933025 0.0479657 1.09927 0.00701207 1.26836 0.00082368C1.43746 -0.00536566 1.60606 0.0233352 1.76442 0.0852649C1.92279 0.147195 2.06778 0.241127 2.19101 0.361635Z"
                fill={curPage !== 113 ? '#4D4D4F' : '#C6C6C6'}
              />
            </svg>
            <svg
              width="8"
              height="14"
              viewBox="0 0 8 14"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M2.19101 0.361635L7.62117 6.07213C7.74121 6.19588 7.83649 6.3431 7.90151 6.50531C7.96652 6.66752 8 6.8415 8 7.01722C8 7.19295 7.96652 7.36693 7.90151 7.52914C7.83649 7.69135 7.74121 7.83857 7.62117 7.96232L2.19101 13.6063C2.07195 13.731 1.93031 13.83 1.77424 13.8976C1.61818 13.9652 1.45078 14 1.28171 14C1.11265 14 0.945251 13.9652 0.789186 13.8976C0.633121 13.83 0.491475 13.731 0.372417 13.6063C0.133886 13.3569 4.28598e-08 13.0195 5.82315e-08 12.6678C7.36031e-08 12.3162 0.133886 11.9788 0.372418 11.7294L4.90609 7.01722L0.372418 2.30507C0.135816 2.05713 0.00243002 1.72249 0.00101526 1.37328C4.06139e-05 1.1981 0.0323459 1.02444 0.0960794 0.862259C0.159813 0.700079 0.253721 0.552569 0.372418 0.42819C0.487191 0.298972 0.625463 0.194673 0.779244 0.121319C0.933025 0.0479657 1.09927 0.00701207 1.26836 0.00082368C1.43746 -0.00536566 1.60606 0.0233352 1.76442 0.0852649C1.92279 0.147195 2.06778 0.241127 2.19101 0.361635Z"
                fill={curPage !== 113 ? '#4D4D4F' : '#C6C6C6'}
              />
            </svg>
          </div>
        </div>
      </div>
    </div>
  );
}

const mapStateToProps = function (state: StoreInterface) {
  return {
    registers: state.data.registers,
  };
};

export default connect(mapStateToProps)(Registers);
